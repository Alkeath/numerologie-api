# ğŸ 1. Utilise lâ€™image officielle Python (version lÃ©gÃ¨re)
FROM python:3.11-slim

# ğŸ§¾ 2. Affiche les logs immÃ©diatement (utile pour Railway ou Docker logs)
ENV PYTHONUNBUFFERED=1

# ğŸ“‚ 3. CrÃ©e un rÃ©pertoire /app dans le conteneur et sâ€™y place
WORKDIR /app

# ğŸ“¦ 4. Copie tous les fichiers du dossier courant dans /app du conteneur
COPY . .

# ğŸ“š 5. Installe les bibliothÃ¨ques nÃ©cessaires sans conserver les caches
RUN pip install --no-cache-dir pandas gspread oauth2client psycopg2-binary

# ğŸš€ 6. Lance automatiquement le script main.py quand le conteneur dÃ©marre
CMD ["python", "main.py"]
